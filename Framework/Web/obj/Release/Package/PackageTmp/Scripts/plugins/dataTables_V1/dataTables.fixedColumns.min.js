/*! FixedColumns 3.0.4
 * ©2010-2014 SpryMedia Ltd - datatables.net/license
 */
(function(n,t,i){var r=function(r){"use strict";var u=function(n,t){var e=this,f,i;if(!(this instanceof u)){alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.");return}typeof t=="undefined"&&(t={});f=r.fn.dataTable.camelToHungarian;f&&(f(u.defaults,u.defaults,!0),f(u.defaults,t));i=r.fn.dataTable.Api?new r.fn.dataTable.Api(n).settings()[0]:n.fnSettings();this.s={dt:i,iTableColumns:i.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]};this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}};i._oFixedColumns=this;i._bInitComplete?this._fnConstruct(t):i.oApi._fnCallbackReg(i,"aoInitComplete",function(){e._fnConstruct(t)},"FixedColumns")};return u.prototype={fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc();this._fnGridLayout();this.fnUpdate()},fnRecalculateHeight:function(n){delete n._DTTC_iHeight;n.style.height="auto"},fnSetRowHeight:function(n,t){n.style.height=t+"px"},fnGetPosition:function(n){var t,i=this.s.dt.oInstance,u,f;return r(n).parents(".DTFC_Cloned").length?n.nodeName.toLowerCase()==="tr"?(t=r(n).index(),i.fnGetPosition(r("tr",this.s.dt.nTBody)[t])):(u=r(n).index(),t=r(n.parentNode).index(),f=i.fnGetPosition(r("tr",this.s.dt.nTBody)[t]),[f,u,i.oApi._fnVisibleToColumnIndex(this.s.dt,u)]):i.fnGetPosition(n)},_fnConstruct:function(i){var f=this,s,e,o,h,c;if(typeof this.s.dt.oInstance.fnVersionCheck!="function"||this.s.dt.oInstance.fnVersionCheck("1.8.0")!==!0){alert("FixedColumns "+u.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");return}if(this.s.dt.oScroll.sX===""){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");return}this.s=r.extend(!0,this.s,u.defaults,i);s=this.s.dt.oClasses;this.dom.grid.dt=r(this.s.dt.nTable).parents("div."+s.sScrollWrapper)[0];this.dom.scroller=r("div."+s.sScrollBody,this.dom.grid.dt)[0];this._fnColCalc();this._fnGridSetup();r(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){e="main"}).on("scroll.DTFC",function(){e==="main"&&(f.s.iLeftColumns>0&&(f.dom.grid.left.liner.scrollTop=f.dom.scroller.scrollTop),f.s.iRightColumns>0&&(f.dom.grid.right.liner.scrollTop=f.dom.scroller.scrollTop))});if(o="onwheel"in t.createElement("div")?"wheel.DTFC":"mousewheel.DTFC",f.s.iLeftColumns>0)r(f.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){e="left"}).on("scroll.DTFC",function(){e==="left"&&(f.dom.scroller.scrollTop=f.dom.grid.left.liner.scrollTop,f.s.iRightColumns>0&&(f.dom.grid.right.liner.scrollTop=f.dom.grid.left.liner.scrollTop))}).on(o,function(n){var t=n.type==="wheel"?-n.originalEvent.deltaX:n.originalEvent.wheelDeltaX;f.dom.scroller.scrollLeft-=t});if(f.s.iRightColumns>0)r(f.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){e="right"}).on("scroll.DTFC",function(){e==="right"&&(f.dom.scroller.scrollTop=f.dom.grid.right.liner.scrollTop,f.s.iLeftColumns>0&&(f.dom.grid.left.liner.scrollTop=f.dom.grid.right.liner.scrollTop))}).on(o,function(n){var t=n.type==="wheel"?-n.originalEvent.deltaX:n.originalEvent.wheelDeltaX;f.dom.scroller.scrollLeft-=t});r(n).on("resize.DTFC",function(){f._fnGridLayout.call(f)});h=!0;c=r(this.s.dt.nTable);c.on("draw.dt.DTFC",function(){f._fnDraw.call(f,h);h=!1}).on("column-sizing.dt.DTFC",function(){f._fnColCalc();f._fnGridLayout(f)}).on("column-visibility.dt.DTFC",function(){f._fnColCalc();f._fnGridLayout(f);f._fnDraw(!0)}).on("destroy.dt.DTFC",function(){c.off("column-sizing.dt.DTFC destroy.dt.DTFC draw.dt.DTFC");r(f.dom.scroller).off("scroll.DTFC mouseover.DTFC");r(n).off("resize.DTFC");r(f.dom.grid.left.liner).off("scroll.DTFC mouseover.DTFC "+o);r(f.dom.grid.left.wrapper).remove();r(f.dom.grid.right.liner).off("scroll.DTFC mouseover.DTFC "+o);r(f.dom.grid.right.wrapper).remove()});this._fnGridLayout();this.s.dt.oInstance.fnDraw(!1)},_fnColCalc:function(){var n=this,t=0,i=0;this.s.aiInnerWidths=[];this.s.aiOuterWidths=[];r.each(this.s.dt.aoColumns,function(u,f){var s=r(f.nTh),e,o;s.filter(":visible").length?(o=s.outerWidth(),n.s.aiOuterWidths.length===0&&(e=r(n.s.dt.nTable).css("border-left-width"),o+=typeof e=="string"?1:parseInt(e,10)),n.s.aiOuterWidths.length===n.s.dt.aoColumns.length-1&&(e=r(n.s.dt.nTable).css("border-right-width"),o+=typeof e=="string"?1:parseInt(e,10)),n.s.aiOuterWidths.push(o),n.s.aiInnerWidths.push(s.width()),u<n.s.iLeftColumns&&(t+=o),n.s.iTableColumns-n.s.iRightColumns<=u&&(i+=o)):(n.s.aiInnerWidths.push(0),n.s.aiOuterWidths.push(0))});this.s.iLeftWidth=t;this.s.iRightWidth=i},_fnGridSetup:function(){var e=this,f=this._fnDTOverflow(),t;this.dom.body=this.s.dt.nTable;this.dom.header=this.s.dt.nTHead.parentNode;this.dom.header.parentNode.parentNode.style.position="relative";var n=r('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><\/div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"><\/div><\/div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><\/div><\/div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"><\/div><\/div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"><\/div><\/div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"><\/div><\/div><\/div><\/div>')[0],i=n.childNodes[0],u=n.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(n,this.dom.grid.dt);n.appendChild(this.dom.grid.dt);this.dom.grid.wrapper=n;this.s.iLeftColumns>0&&(this.dom.grid.left.wrapper=i,this.dom.grid.left.head=i.childNodes[0],this.dom.grid.left.body=i.childNodes[1],this.dom.grid.left.liner=r("div.DTFC_LeftBodyLiner",n)[0],n.appendChild(i));this.s.iRightColumns>0&&(this.dom.grid.right.wrapper=u,this.dom.grid.right.head=u.childNodes[0],this.dom.grid.right.body=u.childNodes[1],this.dom.grid.right.liner=r("div.DTFC_RightBodyLiner",n)[0],t=r("div.DTFC_RightHeadBlocker",n)[0],t.style.width=f.bar+"px",t.style.right=-f.bar+"px",this.dom.grid.right.headBlock=t,t=r("div.DTFC_RightFootBlocker",n)[0],t.style.width=f.bar+"px",t.style.right=-f.bar+"px",this.dom.grid.right.footBlock=t,n.appendChild(u));this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.s.iLeftColumns>0&&(this.dom.grid.left.foot=i.childNodes[2]),this.s.iRightColumns>0&&(this.dom.grid.right.foot=u.childNodes[2]))},_fnGridLayout:function(){var n=this.dom.grid,s=r(n.wrapper).width(),i=r(this.s.dt.nTable.parentNode).outerHeight(),h=r(this.s.dt.nTable.parentNode.parentNode).outerHeight(),t=this._fnDTOverflow(),e=this.s.iLeftWidth,u=this.s.iRightWidth,f,o=function(n,i){t.bar?n.style.width=i+t.bar+"px":(n.style.width=i+20+"px",n.style.paddingRight="20px",n.style.boxSizing="border-box")};t.x&&(i-=t.bar);n.wrapper.style.height=h+"px";this.s.iLeftColumns>0&&(n.left.wrapper.style.width=e+"px",n.left.wrapper.style.height="1px",n.left.body.style.height=i+"px",n.left.foot&&(n.left.foot.style.top=(t.x?t.bar:0)+"px"),o(n.left.liner,e),n.left.liner.style.height=i+"px");this.s.iRightColumns>0&&(f=s-u,t.y&&(f-=t.bar),n.right.wrapper.style.width=u+"px",n.right.wrapper.style.left=f+"px",n.right.wrapper.style.height="1px",n.right.body.style.height=i+"px",n.right.foot&&(n.right.foot.style.top=(t.x?t.bar:0)+"px"),o(n.right.liner,u),n.right.liner.style.height=i+"px",n.right.headBlock.style.display=t.y?"block":"none",n.right.footBlock.style.display=t.y?"block":"none")},_fnDTOverflow:function(){var n=this.s.dt.nTable,i=n.parentNode,t={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return n.offsetWidth>i.clientWidth&&(t.x=!0),n.offsetHeight>i.clientHeight&&(t.y=!0),t},_fnDraw:function(n){this._fnGridLayout();this._fnCloneLeft(n);this._fnCloneRight(n);this.s.fnDrawCallback!==null&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right);r(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(n){if(!(this.s.iRightColumns<=0)){for(var r=this,i=[],t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)this.s.dt.aoColumns[t].bVisible&&i.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,n)}},_fnCloneLeft:function(n){if(!(this.s.iLeftColumns<=0)){for(var r=this,i=[],t=0;t<this.s.iLeftColumns;t++)this.s.dt.aoColumns[t].bVisible&&i.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,n)}},_fnCopyLayout:function(n,t){for(var f,i,l,e,o,s=[],h=[],c=[],u=0,a=n.length;u<a;u++){for(f=[],f.nTr=r(n[u].nTr).clone(!0,!0)[0],i=0,l=this.s.iTableColumns;i<l;i++)r.inArray(i,t)!==-1&&(e=r.inArray(n[u][i].cell,c),e===-1?(o=r(n[u][i].cell).clone(!0,!0)[0],h.push(o),c.push(n[u][i].cell),f.push({cell:o,unique:n[u][i].unique})):f.push({cell:h[e],unique:n[u][i].unique}));s.push(f)}return s},_fnClone:function(n,t,u,f){var h=this,e,v,c,w,a,l,y,s,g,b,o=this.s.dt,k,rt,p,nt,tt,it,d;if(f){for(n.header!==null&&n.header.parentNode.removeChild(n.header),n.header=r(this.dom.header).clone(!0,!0)[0],n.header.className+=" DTFC_Cloned",n.header.style.width="100%",t.head.appendChild(n.header),s=this._fnCopyLayout(o.aoHeader,u),g=r(">thead",n.header),g.empty(),e=0,v=s.length;e<v;e++)g[0].appendChild(s[e].nTr);o.oApi._fnDrawHead(o,s,!0)}else for(s=this._fnCopyLayout(o.aoHeader,u),b=[],o.oApi._fnDetectHeader(b,r(">thead",n.header)[0]),e=0,v=s.length;e<v;e++)for(c=0,w=s[e].length;c<w;c++)b[e][c].cell.className=s[e][c].cell.className,r("span.DataTables_sort_icon",b[e][c].cell).each(function(){this.className=r("span.DataTables_sort_icon",s[e][c].cell)[0].className});if(this._fnEqualiseHeights("thead",this.dom.header,n.header),this.s.sHeightMatch=="auto"&&r(">tbody>tr",h.dom.body).css("height","auto"),n.body!==null&&(n.body.parentNode.removeChild(n.body),n.body=null),n.body=r(this.dom.body).clone(!0)[0],n.body.className+=" DTFC_Cloned",n.body.style.paddingBottom=o.oScroll.iBarWidth+"px",n.body.style.marginBottom=o.oScroll.iBarWidth*2+"px",n.body.getAttribute("id")!==null&&n.body.removeAttribute("id"),r(">thead>tr",n.body).empty(),r(">tfoot",n.body).remove(),k=r("tbody",n.body)[0],r(k).empty(),o.aiDisplay.length>0){for(rt=r(">thead>tr",n.body)[0],y=0;y<u.length;y++)a=u[y],l=r(o.aoColumns[a].nTh).clone(!0)[0],l.innerHTML="",p=l.style,p.paddingTop="0",p.paddingBottom="0",p.borderTopWidth="0",p.borderBottomWidth="0",p.height=0,p.width=h.s.aiInnerWidths[a]+"px",rt.appendChild(l);r(">tbody>tr",h.dom.body).each(function(n){var t=this.cloneNode(!1),f,i;for(t.removeAttribute("id"),f=h.s.dt.oFeatures.bServerSide===!1?h.s.dt.aiDisplay[h.s.dt._iDisplayStart+n]:n,i=h.s.dt.aoData[f].anCells||r(this).children("td, th"),y=0;y<u.length;y++)a=u[y],i.length>0&&(l=r(i[a]).clone(!0,!0)[0],t.appendChild(l));k.appendChild(t)})}else r(">tbody>tr",h.dom.body).each(function(){l=this.cloneNode(!0);l.className+=" DTFC_NoData";r("td",l).html("");k.appendChild(l)});if(n.body.style.width="100%",n.body.style.margin="0",n.body.style.padding="0",o.oScroller!==i&&(nt=o.oScroller.dom.force,t.forcer?t.forcer.style.height=nt.style.height:(t.forcer=nt.cloneNode(!0),t.liner.appendChild(t.forcer))),t.liner.appendChild(n.body),this._fnEqualiseHeights("tbody",h.dom.body,n.body),o.nTFoot!==null){if(f){for(n.footer!==null&&n.footer.parentNode.removeChild(n.footer),n.footer=r(this.dom.footer).clone(!0,!0)[0],n.footer.className+=" DTFC_Cloned",n.footer.style.width="100%",t.foot.appendChild(n.footer),s=this._fnCopyLayout(o.aoFooter,u),tt=r(">tfoot",n.footer),tt.empty(),e=0,v=s.length;e<v;e++)tt[0].appendChild(s[e].nTr);o.oApi._fnDrawHead(o,s,!0)}else for(s=this._fnCopyLayout(o.aoFooter,u),it=[],o.oApi._fnDetectHeader(it,r(">tfoot",n.footer)[0]),e=0,v=s.length;e<v;e++)for(c=0,w=s[e].length;c<w;c++)it[e][c].cell.className=s[e][c].cell.className;this._fnEqualiseHeights("tfoot",this.dom.footer,n.footer)}d=o.oApi._fnGetUniqueThs(o,r(">thead",n.header)[0]);r(d).each(function(n){a=u[n];this.style.width=h.s.aiInnerWidths[a]+"px"});h.s.dt.nTFoot!==null&&(d=o.oApi._fnGetUniqueThs(o,r(">tfoot",n.footer)[0]),r(d).each(function(n){a=u[n];this.style.width=h.s.aiInnerWidths[a]+"px"}))},_fnGetTrNodes:function(n){for(var i=[],t=0,r=n.childNodes.length;t<r;t++)n.childNodes[t].nodeName.toUpperCase()=="TR"&&i.push(n.childNodes[t]);return i},_fnEqualiseHeights:function(n,t,i){if(this.s.sHeightMatch!="none"||n==="thead"||n==="tfoot"){for(var p=this,o,s,h,v=t.getElementsByTagName(n)[0],y=i.getElementsByTagName(n)[0],a=r(">"+n+">tr:eq(0)",t).children(":first"),w=a.outerHeight()-a.height(),c=this._fnGetTrNodes(v),e=this._fnGetTrNodes(y),l=[],u=0,f=e.length;u<f;u++)s=c[u].offsetHeight,h=e[u].offsetHeight,o=h>s?h:s,this.s.sHeightMatch=="semiauto"&&(c[u]._DTTC_iHeight=o),l.push(o);for(u=0,f=e.length;u<f;u++)e[u].style.height=l[u]+"px",c[u].style.height=l[u]+"px"}}},u.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},u.version="3.0.4",r.fn.dataTable.FixedColumns=u,r.fn.DataTable.FixedColumns=u,u};typeof define=="function"&&define.amd?define(["jquery","datatables"],r):typeof exports=="object"?r(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.FixedColumns&&r(jQuery,jQuery.fn.dataTable)})(window,document);
//# sourceMappingURL=dataTables.fixedColumns.min.js.map
